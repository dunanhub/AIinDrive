# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ - –ò—Ç–æ–≥–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–£—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é FastAPI —Å–∏—Å—Ç–µ–º—É. –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π, –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —É–º–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥–ª—è —Ç–∞–∫—Å–∏—Å—Ç–æ–≤.

## –ö–ª—é—á–µ–≤—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π `inference.py`

- **–í–∞–ª–∏–¥–∞—Ü–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π**: ResNet18 –º–æ–¥–µ–ª—å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "–∞–≤—Ç–æ–º–æ–±–∏–ª—å –∏–ª–∏ –Ω–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—å"
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–Ω–∞–ª–∏–∑ –≥—Ä—è–∑–∏**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç–∏ —Å —ç–º–æ–¥–∑–∏
- **–¢—Ä—ë—Ö–∫–ª–∞—Å—Å–æ–≤–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π**: light_damage, medium_damage, heavy_damage
- **–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**: –£–º–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è —Ç–∞–∫—Å–∏—Å—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò –∞–Ω–∞–ª–∏–∑–∞
- **–û—Ü–µ–Ω–∫–∞ —Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏**: –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç–∏ —Ä–µ–º–æ–Ω—Ç–∞

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `main.py`

- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è `Prediction` –º–æ–¥–µ–ª—å —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏:
  - `expert_recommendations`: –°–ø–∏—Å–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ò–ò
  - `dirt_status`: –°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç–∏ ("–ß–∏—Å—Ç–∞—è", "–°—Ä–µ–¥–Ω—è—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç—å", etc.)
  - `dirt_emoji`: –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - `error`/`message`: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - `predicted_class`: –ö–ª–∞—Å—Å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è
  - `confidence`: –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏
  - `probabilities`: –î–µ—Ç–∞–ª—å–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏

### 3. –£–ª—É—á—à–µ–Ω–Ω—ã–π Frontend

- –ù–æ–≤—ã–µ —Ç–∏–ø—ã –≤ `usePredict.ts` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–º–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –≤ `pages/index.vue`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª—è

## –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å
is_car = is_vehicle(image_data)
if not is_car:
    return {"error": "not_vehicle", "message": "–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª—å"}
```

### –ê–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç–∏

```python
# –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≥—Ä—è–∑–∏
dirt_metrics = analyze_dirt_level(image)
dirt_status = "–ß–∏—Å—Ç–∞—è" | "–õ–µ–≥–∫–∞—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç—å" | "–°—Ä–µ–¥–Ω—è—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç—å" | "–°–∏–ª—å–Ω–∞—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç—å"
dirt_emoji = "‚ú®" | "üåü" | "üíß" | "üßΩ"
```

### –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

```python
# –£–º–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞
recommendations = [
    "üöó –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–µ—Ç–µ–π–ª–∏–Ω–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª—è",
    "‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ü–∞—Ä–∞–ø–∏–Ω—ã - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞",
    "üí∞ –†–µ–º–æ–Ω—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏ —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–µ–Ω"
]
```

## API Endpoints

### POST /predict

–û—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑ —Å —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏:

```json
{
  "results": [
    {
      "filename": "car.jpg",
      "dirty": true,
      "dirty_prob": 0.85,
      "damaged": true,
      "damaged_prob": 0.72,
      "predicted_class": "medium_damage",
      "confidence": 0.89,
      "dirt_status": "–°—Ä–µ–¥–Ω—è—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–Ω–æ—Å—Ç—å",
      "dirt_emoji": "üíß",
      "expert_recommendations": [
        "üöó –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–µ—Ç–µ–π–ª–∏–Ω–≥ –∞–≤—Ç–æ–º–æ–±–∏–ª—è",
        "‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–π —Å—Ç–µ–ø–µ–Ω–∏",
        "üí∞ –†–µ–º–æ–Ω—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏ —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–µ–Ω"
      ]
    }
  ]
}
```

### POST /predict-debug

–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

## –ú–æ–¥–µ–ª–∏

1. **model.pth** - ResNet50 –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π (3 –∫–ª–∞—Å—Å–∞)
2. **ResNet18** - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

## –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### Backend

```bash
cd CarCondition
python -m uvicorn main:app --reload --host 127.0.0.1 --port 8000
```

### Frontend

```bash
cd FrontEnd/car-condition-frontend
npm run dev
```

### –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (Windows)

```bash
start_all(Win).bat
```

## –≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏

- **–õ–µ–≥–∫–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è**: –í—Å–µ–≥–¥–∞ —Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–Ω—ã
- **–°—Ä–µ–¥–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è**: –†–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–Ω—ã –µ—Å–ª–∏ confidence > 0.7
- **–¢—è–∂–µ–ª—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è**: –¢—Ä–µ–±—É—é—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Å–º–æ—Ç—Ä–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–∫—Å–∏—Å—Ç–æ–≤

- –û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ä–µ–π—Ç–∏–Ω–≥ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
- –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–æ–Ω
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é

## –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ:**

- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å ResNet18
- –°–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ API endpoints
- Frontend –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

üéØ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –¥–ª—è —Ç–∞–∫—Å–∏—Å—Ç–æ–≤.
